import React from 'react';
import styled from 'styled-components';
import { Spin } from 'antd';
import { DarkColor } from './CustomColors';

const Spinner = styled(Spin)`
  display: flex;
  position: relative;
  justify-content: center;
  align-items: center;
  .ant-spin-dot {
    color: ${DarkColor};
  }
`;

const IconWrapper = styled.div`
  @keyframes rotate {
    0%,
    33% {
      transform: rotate(0deg);
    }
    50% {
      transform: rotate(360deg);
      animation-play-state: paused;
    }
    50.1% {
      transform: rotate(360deg);
      animation-play-state: running;
    }
    100% {
      transform: rotate(720deg);
    }
  }
  width: 3em;
  height: 3em;
  position: relative;
  svg.headphones {
    width: 3em;
    height: 3em;
    animation: rotate 2s linear infinite 0.2s;
  }
  svg.cloud {
    position: absolute;
    width: 1.3em;
    height: 1.3em;
    top: 46%;
    left: 50%;
    transform: translate(-50%, -50%);
  }
`;

const CustomSpin = ({ spinning, children }) => {
  return (
    <Spinner
      spinning={spinning}
      style={{ height: '100%' }}
      indicator={
        <div>
          <IconWrapper>
            <svg
              width="104"
              height="95"
              viewBox="0 0 104 95"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              className="headphones"
            >
              <path
                d="M103.24 47.0299C103.2 52.1699 99.9999 56.6199 95.1099 58.16C93.8999 58.54 93.3099 59.2 92.8499 60.33C87.2799 73.95 77.4199 82.85 63.2699 86.93C62.0399 87.28 61.2799 87.84 60.7099 89.03C58.7099 93.2299 54.3899 95.29 49.6699 94.49C45.5699 93.7999 42.0399 90.08 41.5999 86C41.0599 81.1 43.4099 76.92 47.7199 75.1C51.7599 73.39 56.6399 74.49 59.3999 77.98C60.3699 79.21 61.2099 79.3 62.5599 78.87C78.1499 73.87 88.5699 59.1 87.8899 42.88C87.2099 26.45 75.7399 12.5 59.7099 8.86995C37.9099 3.94995 17.5399 19.52 15.5699 40.74C15.5299 41.21 15.4699 41.68 15.4099 42.1399C15.4099 42.16 15.4099 42.18 15.4099 42.2C15.3199 45.3899 15.6499 48.5799 16.3499 51.6899C16.8799 54.0299 17.4099 56.41 17.9599 58.84C14.1699 58.77 10.1199 59.52 6.36991 57.43C2.32991 55.18 0.13991 51.7599 0.0499098 47.1199C-0.0300902 43.1299 0.00990983 39.14 0.0399098 35.15C0.0899098 28.9 4.82991 23.87 11.0999 23.46C12.1399 23.39 12.7399 23.09 13.2999 22.15C20.6999 9.78995 31.5399 2.22995 45.8099 0.409952C61.3299 -1.57005 74.5199 3.56995 85.0599 15.23C85.0899 15.27 85.1299 15.31 85.1599 15.35L85.2399 15.44L86.4899 16.92L86.5899 17.04C87.6899 18.66 88.8499 20.23 89.8299 21.92C90.4199 22.93 91.0199 23.41 92.2699 23.48C98.4099 23.85 103.18 28.93 103.24 35.06C103.28 39.05 103.27 43.0399 103.24 47.0299Z"
                fill="#70B544"
              />
            </svg>
            <svg
              width="50"
              height="50"
              viewBox="0 0 50 50"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              className="cloud"
            >
              <path
                d="M48.0097 18.0399C44.9097 8.82988 38.5597 2.92988 28.9897 1.25988C19.4097 -0.410122 11.3497 2.66988 5.24973 10.5099C-0.58027 18.0199 -1.57027 28.5599 3.11973 36.8399C4.47973 39.2499 6.31973 41.3899 8.07973 43.8499C5.92973 45.6199 3.64973 47.4899 1.02973 49.6499C9.67973 49.6499 17.8997 49.8399 26.1097 49.6099C41.6297 49.1699 52.9497 32.7599 47.9997 18.0499L48.0097 18.0399ZM14.5197 28.5099C12.6597 28.5099 11.1597 27.0099 11.1597 25.1499C11.1597 23.2899 12.6597 21.7899 14.5197 21.7899C16.3797 21.7899 17.8697 23.2899 17.8697 25.1499C17.8697 27.0099 16.3697 28.5099 14.5197 28.5099ZM25.5697 28.5099C23.7197 28.5099 22.2097 27.0099 22.2097 25.1499C22.2097 23.2899 23.7097 21.7899 25.5697 21.7899C27.4297 21.7899 28.9297 23.2899 28.9297 25.1499C28.9297 27.0099 27.4297 28.5099 25.5697 28.5099ZM36.6197 28.5099C34.7697 28.5099 33.2697 27.0099 33.2697 25.1499C33.2697 23.2899 34.7697 21.7899 36.6197 21.7899C38.4697 21.7899 39.9797 23.2899 39.9797 25.1499C39.9797 27.0099 38.4797 28.5099 36.6197 28.5099Z"
                fill="#379B47"
              />
            </svg>
          </IconWrapper>
        </div>
      }
    >
      {children}
    </Spinner>
  );
};

export default CustomSpin;
